/**
  * basicweb_board_client
  * (C) 2020 M. Bellaire
  * All rights Reserved
 */
var basicweb_board_client=function(){"use strict";var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t,n="URLSearchParams"in t,e="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,i="ArrayBuffer"in t;if(i)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return e&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function p(t){var n=new FileReader,e=d(n);return n.readAsArrayBuffer(t),e}function y(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():i&&r&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=h(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(p)}),this.text=function(){var t,n,e,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,e=d(n),n.readAsText(t),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),e=new Array(n.length),r=0;r<n.length;r++)e[r]=String.fromCharCode(n[r]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,n){t=a(t),n=s(n);var e=this.map[t];this.map[t]=e?e+", "+n:n},l.prototype.delete=function(t){delete this.map[a(t)]},l.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},l.prototype.set=function(t,n){this.map[a(t)]=s(n)},l.prototype.forEach=function(t,n){for(var e in this.map)this.map.hasOwnProperty(e)&&t.call(n,this.map[e],e,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),f(t)},l.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),f(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),f(t)},e&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,n){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var e,r,o=(n=n||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new l(n.headers)),this.method=(e=n.method||this.method||"GET",r=e.toUpperCase(),m.indexOf(r)>-1?r:e),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==n.cache&&"no-cache"!==n.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function g(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),o=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(o))}})),n}function _(t,n){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"",this.headers=new l(n.headers),this.url=n.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];_.redirect=function(t,n){if(-1===w.indexOf(n))throw new RangeError("Invalid status code");return new _(null,{status:n,headers:{location:t}})};var $=t.DOMException;try{new $}catch(t){($=function(t,n){this.message=t,this.name=n;var e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),$.prototype.constructor=$}function E(n,e){return new Promise((function(o,u){var c=new b(n,e);if(c.signal&&c.signal.aborted)return u(new $("Aborted","AbortError"));var a=new XMLHttpRequest;function f(){a.abort()}a.onload=function(){var t,n,e={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",n=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),r=e.shift().trim();if(r){var o=e.join(":").trim();n.append(r,o)}})),n)};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;setTimeout((function(){o(new _(r,e))}),0)},a.onerror=function(){setTimeout((function(){u(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){u(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){u(new $("Aborted","AbortError"))}),0)},a.open(c.method,function(n){try{return""===n&&t.location.href?t.location.href:n}catch(t){return n}}(c.url),!0),"include"===c.credentials?a.withCredentials=!0:"omit"===c.credentials&&(a.withCredentials=!1),"responseType"in a&&(r?a.responseType="blob":i&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof l?c.headers.forEach((function(t,n){a.setRequestHeader(n,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){a.setRequestHeader(t,s(e.headers[t]))})),c.signal&&(c.signal.addEventListener("abort",f),a.onreadystatechange=function(){4===a.readyState&&c.signal.removeEventListener("abort",f)}),a.send(void 0===c._bodyInit?null:c._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=l,t.Request=b,t.Response=_);var T,A=setTimeout;function x(t){return Boolean(t&&void 0!==t.length)}function k(){}function j(t){if(!(this instanceof j))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],R(t,this)}function B(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,j._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void O(n.promise,t)}P(n.promise,r)}else(1===t._state?P:O)(n.promise,t._value)}))):t._deferreds.push(n)}function P(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof j)return t._state=3,t._value=n,void I(t);if("function"==typeof e)return void R((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,I(t)}catch(n){O(t,n)}var r,o}function O(t,n){t._state=2,t._value=n,I(t)}function I(t){2===t._state&&0===t._deferreds.length&&j._immediateFn((function(){t._handled||j._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)B(t,t._deferreds[n]);t._deferreds=null}function U(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function R(t,n){var e=!1;try{t((function(t){e||(e=!0,P(n,t))}),(function(t){e||(e=!0,O(n,t))}))}catch(t){if(e)return;e=!0,O(n,t)}}function F(){}function S(t){return t()}function C(){return Object.create(null)}function D(t){t.forEach(S)}function L(t){return"function"==typeof t}function N(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function q(t,n){t.appendChild(n)}function H(t,n,e){t.insertBefore(n,e||null)}function G(t){t.parentNode.removeChild(t)}function M(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function V(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function J(){return z(" ")}function X(){return z("")}function K(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function Q(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function W(t,n){t.value=null==n?"":n}function Y(t){T=t}function Z(){if(!T)throw new Error("Function called outside component initialization");return T}function tt(){var t=Z();return function(n,e){var r=t.$$.callbacks[n];if(r){var o=function(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((function(n){n.call(t,o)}))}}}j.prototype.catch=function(t){return this.then(null,t)},j.prototype.then=function(t,n){var e=new this.constructor(k);return B(this,new U(t,n,e)),e},j.prototype.finally=function(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))},j.all=function(t){return new j((function(n,e){if(!x(t))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var o=r.length;function i(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,(function(n){i(t,n)}),e)}r[t]=u,0==--o&&n(r)}catch(t){e(t)}}for(var u=0;u<r.length;u++)i(u,r[u])}))},j.resolve=function(t){return t&&"object"==typeof t&&t.constructor===j?t:new j((function(n){n(t)}))},j.reject=function(t){return new j((function(n,e){e(t)}))},j.race=function(t){return new j((function(n,e){if(!x(t))return e(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)j.resolve(t[r]).then(n,e)}))},j._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){A(t,0)},j._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var nt=[],et=[],rt=[],ot=[],it=Promise.resolve(),ut=!1;function ct(t){rt.push(t)}function at(t){ot.push(t)}var st=!1,ft=new Set;function lt(){if(!st){st=!0;do{for(var t=0;t<nt.length;t+=1){var n=nt[t];Y(n),ht(n.$$)}for(nt.length=0;et.length;)et.pop()();for(var e=0;e<rt.length;e+=1){var r=rt[e];ft.has(r)||(ft.add(r),r())}rt.length=0}while(nt.length);for(;ot.length;)ot.pop()();ut=!1,st=!1,ft.clear()}}function ht(t){if(null!==t.fragment){t.update(),D(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(ct)}}var dt,pt=new Set;function yt(){dt={r:0,c:[],p:dt}}function vt(){dt.r||D(dt.c),dt=dt.p}function mt(t,n){t&&t.i&&(pt.delete(t),t.i(n))}function bt(t,n,e,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),dt.c.push((function(){pt.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function gt(t,n){var e,r=n.token={};function o(t,e,o,i){if(n.token===r){n.resolved=i;var u=n.ctx;void 0!==o&&((u=u.slice())[o]=i);var c=t&&(n.current=t)(u),a=!1;n.block&&(n.blocks?n.blocks.forEach((function(t,r){r!==e&&t&&(yt(),bt(t,1,1,(function(){n.blocks[r]=null})),vt())})):n.block.d(1),c.c(),mt(c,1),c.m(n.mount(),n.anchor),a=!0),n.block=c,n.blocks&&(n.blocks[e]=c),a&&lt()}}if((e=t)&&"object"==typeof e&&"function"==typeof e.then){var i=Z();if(t.then((function(t){Y(i),o(n.then,1,n.value,t),Y(null)}),(function(t){Y(i),o(n.catch,2,n.error,t),Y(null)})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}}function _t(t,n,e){var r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function wt(t){t&&t.c()}function $t(t,n,e){var r=t.$$,o=r.fragment,i=r.on_mount,u=r.on_destroy,c=r.after_update;o&&o.m(n,e),ct((function(){var n=i.map(S).filter(L);u?u.push.apply(u,n):D(n),t.$$.on_mount=[]})),c.forEach(ct)}function Et(t,n){var e=t.$$;null!==e.fragment&&(D(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Tt(t,n){-1===t.$$.dirty[0]&&(nt.push(t),ut||(ut=!0,it.then(lt)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function At(t,n,e,r,o,i,u){void 0===u&&(u=[-1]);var c=T;Y(t);var a=n.props||{},s=t.$$={fragment:null,ctx:null,props:i,update:F,not_equal:o,bound:C(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:C(),dirty:u,skip_bound:!1},f=!1;if(s.ctx=e?e(t,a,(function(n,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var u=r.length?r[0]:e;return s.ctx&&o(s.ctx[n],s.ctx[n]=u)&&(!s.skip_bound&&s.bound[n]&&s.bound[n](u),f&&Tt(t,n)),e})):[],s.update(),f=!0,D(s.before_update),s.fragment=!!r&&r(s.ctx),n.target){if(n.hydrate){var l=function(t){return Array.from(t.childNodes)}(n.target);s.fragment&&s.fragment.l(l),l.forEach(G)}else s.fragment&&s.fragment.c();n.intro&&mt(t.$$.fragment),$t(t,n.target,n.anchor),lt()}Y(c)}var xt=function(){};function kt(t,n,e){var r=t.slice();return r[11]=n[e],r}function jt(t){var n,e,r=t[1].title+"";return{c:function(){n=V("h2"),e=z(r)},m:function(t,r){H(t,n,r),q(n,e)},p:function(t,n){2&n&&r!==(r=t[1].title+"")&&Q(e,r)},d:function(t){t&&G(n)}}}function Bt(t){var n,e,r,o=t[1].description+"";return{c:function(){n=V("p"),e=z(o),r=V("p")},m:function(t,o){H(t,n,o),q(n,e),H(t,r,o)},p:function(t,n){2&n&&o!==(o=t[1].description+"")&&Q(e,o)},d:function(t){t&&G(n),t&&G(r)}}}function Pt(t){var n,e,r,o=t[15].message+"";return{c:function(){n=V("p"),e=z("Error: "),r=z(o)},m:function(t,o){H(t,n,o),q(n,e),q(n,r)},p:function(t,n){8&n&&o!==(o=t[15].message+"")&&Q(r,o)},d:function(t){t&&G(n)}}}function Ot(t){var n;function e(t,n){return t[0]===t[1].id?Ut:It}var r=e(t),o=r(t);return{c:function(){o.c(),n=X()},m:function(t,e){o.m(t,e),H(t,n,e)},p:function(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){o.d(t),t&&G(n)}}}function It(t){var n,e,r;return{c:function(){(n=V("button")).textContent="Reply"},m:function(o,i){H(o,n,i),e||(r=K(n,"click",t[4]),e=!0)},p:F,d:function(t){t&&G(n),e=!1,r()}}}function Ut(t){var n,e,r;return{c:function(){n=V("textarea")},m:function(o,i){H(o,n,i),W(n,t[2]),e||(r=[K(n,"input",t[6]),K(n,"keydown",t[5])],e=!0)},p:function(t,e){4&e&&W(n,t[2])},d:function(t){t&&G(n),e=!1,D(r)}}}function Rt(t){var n;return{c:function(){(n=V("p")).textContent="..."},m:function(t,e){H(t,n,e)},p:F,d:function(t){t&&G(n)}}}function Ft(t){var n,e,r;function o(n){t[7].call(null,n)}var i={post:t[11]};return void 0!==t[0]&&(i.replyId=t[0]),n=new Dt({props:i}),et.push((function(){return _t(n,"replyId",o)})),n.$on("reply",t[8]),{c:function(){wt(n.$$.fragment)},m:function(t,e){$t(n,t,e),r=!0},p:function(t,r){var o={};2&r&&(o.post=t[11]),!e&&1&r&&(e=!0,o.replyId=t[0],at((function(){return e=!1}))),n.$set(o)},i:function(t){r||(mt(n.$$.fragment,t),r=!0)},o:function(t){bt(n.$$.fragment,t),r=!1},d:function(t){Et(n,t)}}}function St(t){var n,e,r,o,i,u,c,a,s,f=t[1].body+"",l=t[1].title&&jt(t),h=t[1].description&&Bt(t),d={ctx:t,current:null,token:null,pending:Rt,then:Ot,catch:Pt,value:14,error:15};gt(c=t[3],d);for(var p=t[1].replies,y=[],v=0;v<p.length;v+=1)y[v]=Ft(kt(t,p,v));var m=function(t){return bt(y[t],1,1,(function(){y[t]=null}))};return{c:function(){n=V("div"),l&&l.c(),e=J(),h&&h.c(),r=J(),o=V("p"),i=z(f),u=J(),d.block.c(),a=J();for(var t=0;t<y.length;t+=1)y[t].c();var c,s,p;c=n,s="class",null==(p="post")?c.removeAttribute(s):c.getAttribute(s)!==p&&c.setAttribute(s,p)},m:function(t,c){H(t,n,c),l&&l.m(n,null),q(n,e),h&&h.m(n,null),q(n,r),q(n,o),q(o,i),q(n,u),d.block.m(n,d.anchor=null),d.mount=function(){return n},d.anchor=a,q(n,a);for(var f=0;f<y.length;f+=1)y[f].m(n,null);s=!0},p:function(o,u){var a=u[0];if((t=o)[1].title?l?l.p(t,a):((l=jt(t)).c(),l.m(n,e)):l&&(l.d(1),l=null),t[1].description?h?h.p(t,a):((h=Bt(t)).c(),h.m(n,r)):h&&(h.d(1),h=null),(!s||2&a)&&f!==(f=t[1].body+"")&&Q(i,f),d.ctx=t,8&a&&c!==(c=t[3])&&gt(c,d));else{var v=t.slice();v[14]=d.resolved,d.block.p(v,a)}if(3&a){var b;for(p=t[1].replies,b=0;b<p.length;b+=1){var g=kt(t,p,b);y[b]?(y[b].p(g,a),mt(y[b],1)):(y[b]=Ft(g),y[b].c(),mt(y[b],1),y[b].m(n,null))}for(yt(),b=p.length;b<y.length;b+=1)m(b);vt()}},i:function(t){if(!s){for(var n=0;n<p.length;n+=1)mt(y[n]);s=!0}},o:function(t){y=y.filter(Boolean);for(var n=0;n<y.length;n+=1)bt(y[n]);s=!1},d:function(t){t&&G(n),l&&l.d(),h&&h.d(),d.block.d(),d.token=null,d=null,M(y,t)}}}xt.prototype.$destroy=function(){Et(this,1),this.$destroy=F},xt.prototype.$on=function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},xt.prototype.$set=function(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};function Ct(t,n,e){var r,o=n.post,i=tt(),u=n.replyId,c=Promise.resolve(!0);return t.$$set=function(t){"post"in t&&e(1,o=t.post),"replyId"in t&&e(0,u=t.replyId)},[u,o,r,c,function(){e(0,u=o.id)},function(t){13!==t.keyCode||t.shiftKey||r&&r.length&&e(3,c=fetch("http://localhost:8080/api/v1/posts/"+o.id+"/replies",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({body:r})}).then((function(t){return t.json()})).then((function(t){console.log(t),e(2,r=""),i("reply",o),e(0,u=!1)})))},function(){r=this.value,e(2,r)},function(t){e(0,u=t)},function(n){!function(t,n){var e=t.$$.callbacks[n.type];e&&e.slice().forEach((function(t){return t(n)}))}(t,n)}]}var Dt=function(t){function n(n){t.call(this),At(this,n,Ct,St,N,{post:1,replyId:0})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(xt);function Lt(t,n,e){var r=t.slice();return r[8]=n[e],r}function Nt(t){var n,e,r,o=t[11].message+"";return{c:function(){n=V("p"),e=z("Error: "),r=z(o)},m:function(t,o){H(t,n,o),q(n,e),q(n,r)},p:function(t,n){2&n&&o!==(o=t[11].message+"")&&Q(r,o)},i:F,o:F,d:function(t){t&&G(n)}}}function qt(t){var n,e,r,o,i=[Gt,Ht],u=[];function c(t,n){return t[0]?0:1}return n=c(t),e=u[n]=i[n](t),{c:function(){e.c(),r=X()},m:function(t,e){u[n].m(t,e),H(t,r,e),o=!0},p:function(t,o){var a=n;(n=c(t))===a?u[n].p(t,o):(yt(),bt(u[a],1,1,(function(){u[a]=null})),vt(),(e=u[n])||(e=u[n]=i[n](t)).c(),mt(e,1),e.m(r.parentNode,r))},i:function(t){o||(mt(e),o=!0)},o:function(t){bt(e),o=!1},d:function(t){u[n].d(t),t&&G(r)}}}function Ht(t){for(var n,e=t[7],r=[],o=0;o<e.length;o+=1)r[o]=Mt(Lt(t,e,o));return{c:function(){n=V("ul");for(var t=0;t<r.length;t+=1)r[t].c()},m:function(t,e){H(t,n,e);for(var o=0;o<r.length;o+=1)r[o].m(n,null)},p:function(t,o){if(10&o){var i;for(e=t[7],i=0;i<e.length;i+=1){var u=Lt(t,e,i);r[i]?r[i].p(u,o):(r[i]=Mt(u),r[i].c(),r[i].m(n,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},i:F,o:F,d:function(t){t&&G(n),M(r,t)}}}function Gt(t){var n,e,r;function o(n){t[5].call(null,n)}var i={post:t[7]};return void 0!==t[2]&&(i.replyId=t[2]),n=new Dt({props:i}),et.push((function(){return _t(n,"replyId",o)})),n.$on("reply",t[4]),{c:function(){wt(n.$$.fragment)},m:function(t,e){$t(n,t,e),r=!0},p:function(t,r){var o={};2&r&&(o.post=t[7]),!e&&4&r&&(e=!0,o.replyId=t[2],at((function(){return e=!1}))),n.$set(o)},i:function(t){r||(mt(n.$$.fragment,t),r=!0)},o:function(t){bt(n.$$.fragment,t),r=!1},d:function(t){Et(n,t)}}}function Mt(t){var n,e,r,o,i,u,c=t[8].title+"",a=t[8].created+"";function s(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return t[6].apply(t,[t[8]].concat(n))}return{c:function(){n=V("li"),e=z(c),r=J(),o=z(a)},m:function(t,c){H(t,n,c),q(n,e),q(n,r),q(n,o),i||(u=K(n,"click",s),i=!0)},p:function(n,r){t=n,2&r&&c!==(c=t[8].title+"")&&Q(e,c),2&r&&a!==(a=t[8].created+"")&&Q(o,a)},d:function(t){t&&G(n),i=!1,u()}}}function Vt(t){var n;return{c:function(){(n=V("p")).textContent="..."},m:function(t,e){H(t,n,e)},p:F,i:F,o:F,d:function(t){t&&G(n)}}}function zt(t){var n,e,r,o={ctx:t,current:null,token:null,pending:Vt,then:qt,catch:Nt,value:7,error:11,blocks:[,,,]};return gt(e=t[1],o),{c:function(){n=X(),o.block.c()},m:function(t,e){H(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n,r=!0},p:function(n,r){var i=r[0];if(t=n,o.ctx=t,2&i&&e!==(e=t[1])&&gt(e,o));else{var u=t.slice();u[7]=o.resolved,o.block.p(u,i)}},i:function(t){r||(mt(o.block),r=!0)},o:function(t){for(var n=0;n<3;n+=1){bt(o.blocks[n])}r=!1},d:function(t){t&&G(n),o.block.d(t),o.token=null,o=null}}}var Jt="http://localhost:8080/api/v1";function Xt(t,n,e){var r,o=n.postId,i=new Promise((function(){}));function u(t){e(0,o=t)}return t.$$set=function(t){"postId"in t&&e(0,o=t.postId)},t.$$.update=function(){1&t.$$.dirty&&e(1,i=o?fetch(Jt+"/posts/"+o+"/thread").then((function(t){return t.json()})):fetch(Jt+"/posts").then((function(t){return t.json()})))},[o,i,r,u,function(){e(1,i=fetch(Jt+"/posts/"+o+"/thread").then((function(t){return t.json()})))},function(t){e(2,r=t)},function(t){return u(t.id)}]}var Kt=function(t){function n(n){t.call(this),At(this,n,Xt,zt,N,{postId:0})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(xt);return{board:function(t,n){return new Kt({target:t,props:n})}}}();
