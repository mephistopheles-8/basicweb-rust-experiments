/**
  * basicweb_galleries_client
  * (C) 2020 M. Bellaire
  * All rights Reserved
 */
var basicweb_galleries_client=function(){"use strict";var t="URLSearchParams"in self,e="Symbol"in self&&"iterator"in Symbol,n="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in self,o="ArrayBuffer"in self;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function p(t){var e=new FileReader,n=d(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var i;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&n&&((i=e)&&DataView.prototype.isPrototypeOf(i))?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,e,n,r=l(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=d(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[s(t)]},f.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},f.prototype.set=function(t,e){this.map[s(t)]=u(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),c(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),c(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),c(t)},e&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];g.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function x(t,e){return new Promise((function(r,o){var i=new v(t,e);if(i.signal&&i.signal.aborted)return o(new w("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new g(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new w("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),i.signal&&(i.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",s)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}x.polyfill=!0,self.fetch||(self.fetch=x,self.Headers=f,self.Request=v,self.Response=g);var E,A=setTimeout;function T(t){return Boolean(t&&void 0!==t.length)}function j(){}function k(t){if(!(this instanceof k))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],I(t,this)}function B(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,k._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void O(e.promise,t)}P(e.promise,r)}else(1===t._state?P:O)(e.promise,t._value)}))):t._deferreds.push(e)}function P(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof k)return t._state=3,t._value=e,void S(t);if("function"==typeof n)return void I((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,S(t)}catch(e){O(t,e)}var r,o}function O(t,e){t._state=2,t._value=e,S(t)}function S(t){2===t._state&&0===t._deferreds.length&&k._immediateFn((function(){t._handled||k._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)B(t,t._deferreds[e]);t._deferreds=null}function $(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function I(t,e){var n=!1;try{t((function(t){n||(n=!0,P(e,t))}),(function(t){n||(n=!0,O(e,t))}))}catch(t){if(n)return;n=!0,O(e,t)}}function U(){}function F(t){return t()}function R(){return Object.create(null)}function C(t){t.forEach(F)}function D(t){return"function"==typeof t}function L(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function N(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode.removeChild(t)}function H(t){return document.createElement(t)}function J(t){return document.createTextNode(t)}function M(){return J(" ")}function X(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function V(t,e){e=""+e,t.data!==e&&(t.data=e)}function K(t,e){(null!=e||t.value)&&(t.value=e)}function Q(t){E=t}function W(){if(!E)throw new Error("Function called outside component initialization");return E}k.prototype.catch=function(t){return this.then(null,t)},k.prototype.then=function(t,e){var n=new this.constructor(j);return B(this,new $(t,e,n)),n},k.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},k.all=function(t){return new k((function(e,n){if(!T(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},k.resolve=function(t){return t&&"object"==typeof t&&t.constructor===k?t:new k((function(e){e(t)}))},k.reject=function(t){return new k((function(e,n){n(t)}))},k.race=function(t){return new k((function(e,n){if(!T(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)k.resolve(t[r]).then(e,n)}))},k._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){A(t,0)},k._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Y=[],Z=[],tt=[],et=[],nt=Promise.resolve(),rt=!1;function ot(t){tt.push(t)}var it=!1,at=new Set;function st(){if(!it){it=!0;do{for(var t=0;t<Y.length;t+=1){var e=Y[t];Q(e),ut(e.$$)}for(Y.length=0;Z.length;)Z.pop()();for(var n=0;n<tt.length;n+=1){var r=tt[n];at.has(r)||(at.add(r),r())}tt.length=0}while(Y.length);for(;et.length;)et.pop()();rt=!1,it=!1,at.clear()}}function ut(t){if(null!==t.fragment){t.update(),C(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}var ct,ft=new Set;function lt(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function dt(t,e){var n,r=e.token={};function o(t,n,o,i){if(e.token===r){e.resolved=i;var a=e.ctx;void 0!==o&&((a=a.slice())[o]=i);var s=t&&(e.current=t)(a),u=!1;e.block&&(e.blocks?e.blocks.forEach((function(t,r){r!==n&&t&&(ct={r:0,c:[],p:ct},function(t,e,n,r){if(t&&t.o){if(ft.has(t))return;ft.add(t),ct.c.push((function(){ft.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}(t,1,1,(function(){e.blocks[r]=null})),ct.r||C(ct.c),ct=ct.p)})):e.block.d(1),s.c(),lt(s,1),s.m(e.mount(),e.anchor),u=!0),e.block=s,e.blocks&&(e.blocks[n]=s),u&&st()}}if((n=t)&&"object"==typeof n&&"function"==typeof n.then){var i=W();if(t.then((function(t){Q(i),o(e.then,1,e.value,t),Q(null)}),(function(t){Q(i),o(e.catch,2,e.error,t),Q(null)})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function pt(t,e){-1===t.$$.dirty[0]&&(Y.push(t),rt||(rt=!0,nt.then(st)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(t,e,n,r,o,i,a){void 0===a&&(a=[-1]);var s=E;Q(t);var u=e.props||{},c=t.$$={fragment:null,ctx:null,props:i,update:U,not_equal:o,bound:R(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:R(),dirty:a},f=!1;if(c.ctx=n?n(t,u,(function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=r.length?r[0]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=a)&&(c.bound[e]&&c.bound[e](a),f&&pt(t,e)),n})):[],c.update(),f=!0,C(c.before_update),c.fragment=!!r&&r(c.ctx),e.target){if(e.hydrate){var l=function(t){return Array.from(t.childNodes)}(e.target);c.fragment&&c.fragment.l(l),l.forEach(G)}else c.fragment&&c.fragment.c();e.intro&&lt(t.$$.fragment),function(t,e,n){var r=t.$$,o=r.fragment,i=r.on_mount,a=r.on_destroy,s=r.after_update;o&&o.m(e,n),ot((function(){var e=i.map(F).filter(D);a?a.push.apply(a,e):C(e),t.$$.on_mount=[]})),s.forEach(ot)}(t,e.target,e.anchor),st()}Q(s)}var yt=function(){};function mt(t,e,n){var r=t.slice();return r[14]=e[n],r}function vt(t){var e,n,r=t[17].message+"";return{c:function(){e=H("p"),n=J(r)},m:function(t,r){q(t,e,r),N(e,n)},p:function(t,e){4&e&&r!==(r=t[17].message+"")&&V(n,r)},d:function(t){t&&G(e)}}}function bt(t){var e,n,r,o,i,a,s,u,c,f;function l(t,e){return t[0]?_t:gt}var d=l(t),p=d(t);return{c:function(){e=H("label"),n=J("Name: "),r=H("input"),o=M(),i=H("label"),a=J("Description: "),s=H("input"),u=M(),p.c(),c=J(""),z(r,"type","text"),z(s,"type","text")},m:function(l,d,h){q(l,e,d),N(e,n),N(e,r),K(r,t[3].name),q(l,o,d),q(l,i,d),N(i,a),N(i,s),K(s,t[3].description),q(l,u,d),p.m(l,d),q(l,c,d),h&&C(f),f=[X(r,"input",t[9]),X(s,"input",t[10])]},p:function(t,e){8&e&&r.value!==t[3].name&&K(r,t[3].name),8&e&&s.value!==t[3].description&&K(s,t[3].description),d===(d=l(t))&&p?p.p(t,e):(p.d(1),(p=d(t))&&(p.c(),p.m(c.parentNode,c)))},d:function(t){t&&G(e),t&&G(o),t&&G(i),t&&G(u),p.d(t),t&&G(c),C(f)}}}function gt(t){var e,n,r,o;return{c:function(){e=H("button"),n=J("Add Gallery"),z(e,"type","button"),e.disabled=r=!St(t[3])},m:function(r,i,a){q(r,e,i),N(e,n),a&&o(),o=X(e,"click",t[5])},p:function(t,n){8&n&&r!==(r=!St(t[3]))&&(e.disabled=r)},d:function(t){t&&G(e),o()}}}function _t(t){var e,n,r,o;return{c:function(){e=H("button"),n=J("Update Gallery"),z(e,"type","button"),e.disabled=r=!St(t[3])},m:function(r,i,a){q(r,e,i),N(e,n),a&&o(),o=X(e,"click",t[6])},p:function(t,n){8&n&&r!==(r=!St(t[3]))&&(e.disabled=r)},d:function(t){t&&G(e),o()}}}function wt(t){var e;return{c:function(){(e=H("p")).textContent="Submitting..."},m:function(t,n){q(t,e,n)},p:U,d:function(t){t&&G(e)}}}function xt(t){for(var e,n,r,o,i,a,s,u,c,f,l,d,p,h,y,m,v,b,g,_,w,x,E,A,T=t[1],j=[],k=0;k<T.length;k+=1)j[k]=kt(mt(t,T,k));return{c:function(){e=H("fieldset"),(n=H("legend")).textContent="Gallery Items",r=M(),o=H("ul");for(var A=0;A<j.length;A+=1)j[A].c();i=M(),a=H("fieldset"),(s=H("legend")).textContent="New Item",u=M(),c=H("label"),f=J("Name: "),l=H("input"),d=M(),p=H("label"),h=J("Description: "),y=H("input"),m=M(),v=H("label"),b=J("File: "),g=H("input"),_=M(),w=H("button"),x=J("Add Item"),z(l,"type","text"),z(y,"type","text"),z(g,"type","file"),z(w,"type","button"),w.disabled=E=!t[7](t[4])},m:function(E,T,k){q(E,e,T),N(e,n),N(e,r),N(e,o);for(var B=0;B<j.length;B+=1)j[B].m(o,null);N(e,i),N(e,a),N(a,s),N(a,u),N(a,c),N(c,f),N(c,l),K(l,t[4].name),N(a,d),N(a,p),N(p,h),N(p,y),K(y,t[4].description),N(a,m),N(a,v),N(v,b),N(v,g),N(a,_),N(a,w),N(w,x),k&&C(A),A=[X(l,"input",t[11]),X(y,"input",t[12]),X(g,"change",t[13]),X(w,"click",t[8])]},p:function(t,e){if(2&e){var n;for(T=t[1],n=0;n<T.length;n+=1){var r=mt(t,T,n);j[n]?j[n].p(r,e):(j[n]=kt(r),j[n].c(),j[n].m(o,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=T.length}16&e&&l.value!==t[4].name&&K(l,t[4].name),16&e&&y.value!==t[4].description&&K(y,t[4].description),16&e&&E!==(E=!t[7](t[4]))&&(w.disabled=E)},d:function(t){t&&G(e),function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(j,t),C(A)}}}function Et(t){var e;return{c:function(){e=H("progress")},m:function(t,n){q(t,e,n)},p:U,d:function(t){t&&G(e)}}}function At(t){var e,n,r;return{c:function(){z(e=H("progress"),"max",n=t[14].file.total),e.value=r=t[14].file.loaded},m:function(t,n){q(t,e,n)},p:function(t,o){2&o&&n!==(n=t[14].file.total)&&z(e,"max",n),2&o&&r!==(r=t[14].file.loaded)&&(e.value=r)},d:function(t){t&&G(e)}}}function Tt(t){var e,n,r,o=t[14].file.response+"";return{c:function(){e=H("span"),n=J("Upload Failed: "),r=J(o),z(e,"class","error")},m:function(t,o){q(t,e,o),N(e,n),N(e,r)},p:function(t,e){2&e&&o!==(o=t[14].file.response+"")&&V(r,o)},d:function(t){t&&G(e)}}}function jt(t){var e;return{c:function(){(e=H("span")).textContent="Success",z(e,"class","success")},m:function(t,n){q(t,e,n)},p:U,d:function(t){t&&G(e)}}}function kt(t){var e,n,r,o,i=t[14].name+"";function a(t,e){return t[14].file.status===Pt?jt:t[14].file.status===Ot?Tt:t[14].file.total>0?At:Et}var s=a(t),u=s(t);return{c:function(){e=H("li"),n=J(i),r=M(),u.c(),o=M()},m:function(t,i){q(t,e,i),N(e,n),N(e,r),u.m(e,null),N(e,o)},p:function(t,r){2&r&&i!==(i=t[14].name+"")&&V(n,i),s===(s=a(t))&&u?u.p(t,r):(u.d(1),(u=s(t))&&(u.c(),u.m(e,o)))},d:function(t){t&&G(e),u.d()}}}function Bt(t){var e,n,r,o,i,a,s={ctx:t,current:null,token:null,pending:wt,then:bt,catch:vt,error:17};dt(i=t[2],s);var u=t[0]&&xt(t);return{c:function(){e=H("form"),n=H("fieldset"),(r=H("legend")).textContent="Gallery Information",o=M(),s.block.c(),a=M(),u&&u.c()},m:function(t,i){q(t,e,i),N(e,n),N(n,r),N(n,o),s.block.m(n,s.anchor=null),s.mount=function(){return n},s.anchor=null,N(e,a),u&&u.m(e,null)},p:function(n,r){var o=r[0];if(t=n,s.ctx=t,4&o&&i!==(i=t[2])&&dt(i,s));else{var a=t.slice();s.block.p(a,o)}t[0]?u?u.p(t,o):((u=xt(t)).c(),u.m(e,null)):u&&(u.d(1),u=null)},i:U,o:U,d:function(t){t&&G(e),s.block.d(),s.token=null,s=null,u&&u.d()}}}yt.prototype.$destroy=function(){var t,e;t=1,null!==(e=this.$$).fragment&&(C(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[]),this.$destroy=U},yt.prototype.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},yt.prototype.$set=function(){};var Pt=1,Ot=2;function St(t){return t.name.length}function $t(t,e,n){var r=e.galleryId,o=[],i=Promise.resolve(!0),a={kind:0,name:"",description:""},s={kind:0,name:"",description:"",files:null};function u(t){return r&&t.files&&t.files[0]&&t.name.length}return t.$set=function(t){"galleryId"in t&&n(0,r=t.galleryId)},[r,o,i,a,s,function(){St(a)&&n(2,i=fetch("http://localhost:8080/galleries",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){return n(0,r=t)})))},function(){r&&St(a)&&n(2,i=fetch("http://localhost:8080/galleries/"+r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(a)}).then((function(t){return t.json()})))},u,function(){if(u(s)){var t={status:0,loaded:0,total:0,response:""},e=new FormData,i=new XMLHttpRequest;e.append("itemInfo",JSON.stringify({name:s.name,description:s.description,kind:s.kind})),e.append("file",s.files[0]),i.open("POST","http://localhost:8080/galleries/"+r+"/items"),i.upload.addEventListener("progress",(function(e){var r=e.loaded,i=e.total;t.loaded=r,t.total=i,n(1,o)})),i.addEventListener("load",(function(e){200==i.status||201==i.status?t.status=Pt:t.status=Ot,n(1,o)})),i.addEventListener("readystatechange",(function(e){4===i.readyState&&i.response.length&&(t.response=JSON.parse(i.response)),n(1,o)})),i.send(e),o.push({name:s.name,description:s.description,kind:s.kind,file:t}),n(4,s.name="",s),n(4,s.description="",s),n(4,s.kind=0,s),n(1,o)}},function(){a.name=this.value,n(3,a)},function(){a.description=this.value,n(3,a)},function(){s.name=this.value,n(4,s)},function(){s.description=this.value,n(4,s)},function(){s.files=this.files,n(4,s)}]}var It=function(t){function e(e){t.call(this),ht(this,e,$t,Bt,L,{galleryId:0})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(yt);return{galleryCreate:function(t,e){return new It({target:t,props:e})}}}();
