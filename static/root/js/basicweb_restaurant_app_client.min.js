/**
  * basicweb_restaurant_app_client
  * (C) 2020 M. Bellaire
  * All rights Reserved
 */
var basicweb_restaurant_app_client=function(){"use strict";var t="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,e="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),r="FormData"in self,o="ArrayBuffer"in self;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function s(t){this.map={},t instanceof s?t.forEach((function(t,n){this.append(n,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(n){this.append(n,t[n])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function d(t){return new Promise((function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}}))}function p(t){var n=new FileReader,e=d(n);return n.readAsArrayBuffer(t),e}function h(t){if(t.slice)return t.slice(0);var n=new Uint8Array(t.byteLength);return n.set(new Uint8Array(t)),n.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(n){var i;this._bodyInit=n,n?"string"==typeof n?this._bodyText=n:e&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:r&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:t&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():o&&e&&((i=n)&&DataView.prototype.isPrototypeOf(i))?(this._bodyArrayBuffer=h(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(n)||u(n))?this._bodyArrayBuffer=h(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var t,n,e,r=l(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=new FileReader,e=d(n),n.readAsText(t),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var n=new Uint8Array(t),e=new Array(n.length),r=0;r<n.length;r++)e[r]=String.fromCharCode(n[r]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}s.prototype.append=function(t,n){t=c(t),n=a(n);var e=this.map[t];this.map[t]=e?e+", "+n:n},s.prototype.delete=function(t){delete this.map[c(t)]},s.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},s.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},s.prototype.set=function(t,n){this.map[c(t)]=a(n)},s.prototype.forEach=function(t,n){for(var e in this.map)this.map.hasOwnProperty(e)&&t.call(n,this.map[e],e,this)},s.prototype.keys=function(){var t=[];return this.forEach((function(n,e){t.push(e)})),f(t)},s.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),f(t)},s.prototype.entries=function(){var t=[];return this.forEach((function(n,e){t.push([e,n])})),f(t)},n&&(s.prototype[Symbol.iterator]=s.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(t,n){var e,r,o=(n=n||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new s(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new s(n.headers)),this.method=(e=n.method||this.method||"GET",r=e.toUpperCase(),v.indexOf(r)>-1?r:e),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),o=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(o))}})),n}function g(t,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new s(n.headers),this.url=n.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];g.redirect=function(t,n){if(-1===_.indexOf(n))throw new RangeError("Invalid status code");return new g(null,{status:n,headers:{location:t}})};var w=self.DOMException;try{new w}catch(t){(w=function(t,n){this.message=t,this.name=n;var e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function $(t,n){return new Promise((function(r,o){var i=new m(t,n);if(i.signal&&i.signal.aborted)return o(new w("Aborted","AbortError"));var u=new XMLHttpRequest;function c(){u.abort()}u.onload=function(){var t,n,e={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",n=new s,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),r=e.shift().trim();if(r){var o=e.join(":").trim();n.append(r,o)}})),n)};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var o="response"in u?u.response:u.responseText;r(new g(o,e))},u.onerror=function(){o(new TypeError("Network request failed"))},u.ontimeout=function(){o(new TypeError("Network request failed"))},u.onabort=function(){o(new w("Aborted","AbortError"))},u.open(i.method,i.url,!0),"include"===i.credentials?u.withCredentials=!0:"omit"===i.credentials&&(u.withCredentials=!1),"responseType"in u&&e&&(u.responseType="blob"),i.headers.forEach((function(t,n){u.setRequestHeader(n,t)})),i.signal&&(i.signal.addEventListener("abort",c),u.onreadystatechange=function(){4===u.readyState&&i.signal.removeEventListener("abort",c)}),u.send(void 0===i._bodyInit?null:i._bodyInit)}))}$.polyfill=!0,self.fetch||(self.fetch=$,self.Headers=s,self.Request=m,self.Response=g);var x,k=setTimeout;function E(t){return Boolean(t&&void 0!==t.length)}function j(){}function A(t){if(!(this instanceof A))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],S(t,this)}function T(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,A._immediateFn((function(){var e=1===t._state?n.onFulfilled:n.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void P(n.promise,t)}I(n.promise,r)}else(1===t._state?I:P)(n.promise,t._value)}))):t._deferreds.push(n)}function I(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var e=n.then;if(n instanceof A)return t._state=3,t._value=n,void O(t);if("function"==typeof e)return void S((r=e,o=n,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=n,O(t)}catch(n){P(t,n)}var r,o}function P(t,n){t._state=2,t._value=n,O(t)}function O(t){2===t._state&&0===t._deferreds.length&&A._immediateFn((function(){t._handled||A._unhandledRejectionFn(t._value)}));for(var n=0,e=t._deferreds.length;n<e;n++)T(t,t._deferreds[n]);t._deferreds=null}function B(t,n,e){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=e}function S(t,n){var e=!1;try{t((function(t){e||(e=!0,I(n,t))}),(function(t){e||(e=!0,P(n,t))}))}catch(t){if(e)return;e=!0,P(n,t)}}function C(){}function U(t){return t()}function F(){return Object.create(null)}function R(t){t.forEach(U)}function N(t){return"function"==typeof t}function D(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function L(t,n){t.appendChild(n)}function q(t,n,e){t.insertBefore(n,e||null)}function G(t){t.parentNode.removeChild(t)}function H(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function J(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function M(){return z(" ")}function X(){return z("")}function K(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function V(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Q(t,n){n=""+n,t.data!==n&&(t.data=n)}function W(t,n){(null!=n||t.value)&&(t.value=n)}function Y(t){x=t}function Z(){if(!x)throw new Error("Function called outside component initialization");return x}function tt(){var t=Z();return function(n,e){var r=t.$$.callbacks[n];if(r){var o=function(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((function(n){n.call(t,o)}))}}}A.prototype.catch=function(t){return this.then(null,t)},A.prototype.then=function(t,n){var e=new this.constructor(j);return T(this,new B(t,n,e)),e},A.prototype.finally=function(t){var n=this.constructor;return this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){return n.reject(e)}))}))},A.all=function(t){return new A((function(n,e){if(!E(t))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var o=r.length;function i(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,(function(n){i(t,n)}),e)}r[t]=u,0==--o&&n(r)}catch(t){e(t)}}for(var u=0;u<r.length;u++)i(u,r[u])}))},A.resolve=function(t){return t&&"object"==typeof t&&t.constructor===A?t:new A((function(n){n(t)}))},A.reject=function(t){return new A((function(n,e){e(t)}))},A.race=function(t){return new A((function(n,e){if(!E(t))return e(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)A.resolve(t[r]).then(n,e)}))},A._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){k(t,0)},A._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var nt=[],et=[],rt=[],ot=[],it=Promise.resolve(),ut=!1;function ct(t){rt.push(t)}function at(t){ot.push(t)}var ft=!1,st=new Set;function lt(){if(!ft){ft=!0;do{for(var t=0;t<nt.length;t+=1){var n=nt[t];Y(n),dt(n.$$)}for(nt.length=0;et.length;)et.pop()();for(var e=0;e<rt.length;e+=1){var r=rt[e];st.has(r)||(st.add(r),r())}rt.length=0}while(nt.length);for(;ot.length;)ot.pop()();ut=!1,ft=!1,st.clear()}}function dt(t){if(null!==t.fragment){t.update(),R(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(ct)}}var pt,ht=new Set;function yt(){pt={r:0,c:[],p:pt}}function vt(){pt.r||R(pt.c),pt=pt.p}function mt(t,n){t&&t.i&&(ht.delete(t),t.i(n))}function bt(t,n,e,r){if(t&&t.o){if(ht.has(t))return;ht.add(t),pt.c.push((function(){ht.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function gt(t,n){var e,r=n.token={};function o(t,e,o,i){if(n.token===r){n.resolved=i;var u=n.ctx;void 0!==o&&((u=u.slice())[o]=i);var c=t&&(n.current=t)(u),a=!1;n.block&&(n.blocks?n.blocks.forEach((function(t,r){r!==e&&t&&(yt(),bt(t,1,1,(function(){n.blocks[r]=null})),vt())})):n.block.d(1),c.c(),mt(c,1),c.m(n.mount(),n.anchor),a=!0),n.block=c,n.blocks&&(n.blocks[e]=c),a&&lt()}}if((e=t)&&"object"==typeof e&&"function"==typeof e.then){var i=Z();if(t.then((function(t){Y(i),o(n.then,1,n.value,t),Y(null)}),(function(t){Y(i),o(n.catch,2,n.error,t),Y(null)})),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}}function _t(t,n,e){var r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function wt(t){t&&t.c()}function $t(t,n,e){var r=t.$$,o=r.fragment,i=r.on_mount,u=r.on_destroy,c=r.after_update;o&&o.m(n,e),ct((function(){var n=i.map(U).filter(N);u?u.push.apply(u,n):R(n),t.$$.on_mount=[]})),c.forEach(ct)}function xt(t,n){var e=t.$$;null!==e.fragment&&(R(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function kt(t,n){-1===t.$$.dirty[0]&&(nt.push(t),ut||(ut=!0,it.then(lt)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Et(t,n,e,r,o,i,u){void 0===u&&(u=[-1]);var c=x;Y(t);var a=n.props||{},f=t.$$={fragment:null,ctx:null,props:i,update:C,not_equal:o,bound:F(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:F(),dirty:u},s=!1;if(f.ctx=e?e(t,a,(function(n,e){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var u=r.length?r[0]:e;return f.ctx&&o(f.ctx[n],f.ctx[n]=u)&&(f.bound[n]&&f.bound[n](u),s&&kt(t,n)),e})):[],f.update(),s=!0,R(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){var l=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(l),l.forEach(G)}else f.fragment&&f.fragment.c();n.intro&&mt(t.$$.fragment),$t(t,n.target,n.anchor),lt()}Y(c)}var jt=function(){};function At(t,n,e){var r=t.slice();return r[14]=n[e],r}function Tt(t){var n,e,r=t[17].message+"";return{c:function(){n=J("p"),e=z(r)},m:function(t,r){q(t,n,r),L(n,e)},p:function(t,n){4&n&&r!==(r=t[17].message+"")&&Q(e,r)},d:function(t){t&&G(n)}}}function It(t){var n,e,r,o,i,u,c,a,f,s;function l(t,n){return t[0]?Ot:Pt}var d=l(t),p=d(t);return{c:function(){n=J("label"),e=z("Name: "),r=J("input"),o=M(),i=J("label"),u=z("Description: "),c=J("input"),a=M(),p.c(),f=X(),V(r,"type","text"),V(c,"type","text")},m:function(l,d,h){q(l,n,d),L(n,e),L(n,r),W(r,t[3].name),q(l,o,d),q(l,i,d),L(i,u),L(i,c),W(c,t[3].description),q(l,a,d),p.m(l,d),q(l,f,d),h&&R(s),s=[K(r,"input",t[9]),K(c,"input",t[10])]},p:function(t,n){8&n&&r.value!==t[3].name&&W(r,t[3].name),8&n&&c.value!==t[3].description&&W(c,t[3].description),d===(d=l(t))&&p?p.p(t,n):(p.d(1),(p=d(t))&&(p.c(),p.m(f.parentNode,f)))},d:function(t){t&&G(n),t&&G(o),t&&G(i),t&&G(a),p.d(t),t&&G(f),R(s)}}}function Pt(t){var n,e,r,o;return{c:function(){n=J("button"),e=z("Add Gallery"),V(n,"type","button"),n.disabled=r=!Gt(t[3])},m:function(r,i,u){q(r,n,i),L(n,e),u&&o(),o=K(n,"click",t[5])},p:function(t,e){8&e&&r!==(r=!Gt(t[3]))&&(n.disabled=r)},d:function(t){t&&G(n),o()}}}function Ot(t){var n,e,r,o;return{c:function(){n=J("button"),e=z("Update Gallery"),V(n,"type","button"),n.disabled=r=!Gt(t[3])},m:function(r,i,u){q(r,n,i),L(n,e),u&&o(),o=K(n,"click",t[6])},p:function(t,e){8&e&&r!==(r=!Gt(t[3]))&&(n.disabled=r)},d:function(t){t&&G(n),o()}}}function Bt(t){var n;return{c:function(){(n=J("p")).textContent="Submitting..."},m:function(t,e){q(t,n,e)},p:C,d:function(t){t&&G(n)}}}function St(t){for(var n,e,r,o,i,u,c,a,f,s,l,d,p,h,y,v,m,b,g,_,w,$,x,k,E=t[1],j=[],A=0;A<E.length;A+=1)j[A]=Nt(At(t,E,A));return{c:function(){n=J("fieldset"),(e=J("legend")).textContent="Gallery Items",r=M(),o=J("ul");for(var k=0;k<j.length;k+=1)j[k].c();i=M(),u=J("fieldset"),(c=J("legend")).textContent="New Item",a=M(),f=J("label"),s=z("Name: "),l=J("input"),d=M(),p=J("label"),h=z("Description: "),y=J("input"),v=M(),m=J("label"),b=z("File: "),g=J("input"),_=M(),w=J("button"),$=z("Add Item"),V(l,"type","text"),V(y,"type","text"),V(g,"type","file"),V(w,"type","button"),w.disabled=x=!t[7](t[4])},m:function(x,E,A){q(x,n,E),L(n,e),L(n,r),L(n,o);for(var T=0;T<j.length;T+=1)j[T].m(o,null);L(n,i),L(n,u),L(u,c),L(u,a),L(u,f),L(f,s),L(f,l),W(l,t[4].name),L(u,d),L(u,p),L(p,h),L(p,y),W(y,t[4].description),L(u,v),L(u,m),L(m,b),L(m,g),L(u,_),L(u,w),L(w,$),A&&R(k),k=[K(l,"input",t[11]),K(y,"input",t[12]),K(g,"change",t[13]),K(w,"click",t[8])]},p:function(t,n){if(2&n){var e;for(E=t[1],e=0;e<E.length;e+=1){var r=At(t,E,e);j[e]?j[e].p(r,n):(j[e]=Nt(r),j[e].c(),j[e].m(o,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=E.length}16&n&&l.value!==t[4].name&&W(l,t[4].name),16&n&&y.value!==t[4].description&&W(y,t[4].description),16&n&&x!==(x=!t[7](t[4]))&&(w.disabled=x)},d:function(t){t&&G(n),H(j,t),R(k)}}}function Ct(t){var n;return{c:function(){n=J("progress")},m:function(t,e){q(t,n,e)},p:C,d:function(t){t&&G(n)}}}function Ut(t){var n,e,r;return{c:function(){V(n=J("progress"),"max",e=t[14].file.total),n.value=r=t[14].file.loaded},m:function(t,e){q(t,n,e)},p:function(t,o){2&o&&e!==(e=t[14].file.total)&&V(n,"max",e),2&o&&r!==(r=t[14].file.loaded)&&(n.value=r)},d:function(t){t&&G(n)}}}function Ft(t){var n,e,r,o=t[14].file.response+"";return{c:function(){n=J("span"),e=z("Upload Failed: "),r=z(o),V(n,"class","error")},m:function(t,o){q(t,n,o),L(n,e),L(n,r)},p:function(t,n){2&n&&o!==(o=t[14].file.response+"")&&Q(r,o)},d:function(t){t&&G(n)}}}function Rt(t){var n;return{c:function(){(n=J("span")).textContent="Success",V(n,"class","success")},m:function(t,e){q(t,n,e)},p:C,d:function(t){t&&G(n)}}}function Nt(t){var n,e,r,o,i=t[14].name+"";function u(t,n){return t[14].file.status===Lt?Rt:t[14].file.status===qt?Ft:t[14].file.total>0?Ut:Ct}var c=u(t),a=c(t);return{c:function(){n=J("li"),e=z(i),r=M(),a.c(),o=M()},m:function(t,i){q(t,n,i),L(n,e),L(n,r),a.m(n,null),L(n,o)},p:function(t,r){2&r&&i!==(i=t[14].name+"")&&Q(e,i),c===(c=u(t))&&a?a.p(t,r):(a.d(1),(a=c(t))&&(a.c(),a.m(n,o)))},d:function(t){t&&G(n),a.d()}}}function Dt(t){var n,e,r,o,i,u,c={ctx:t,current:null,token:null,pending:Bt,then:It,catch:Tt,error:17};gt(i=t[2],c);var a=t[0]&&St(t);return{c:function(){n=J("form"),e=J("fieldset"),(r=J("legend")).textContent="Gallery Information",o=M(),c.block.c(),u=M(),a&&a.c()},m:function(t,i){q(t,n,i),L(n,e),L(e,r),L(e,o),c.block.m(e,c.anchor=null),c.mount=function(){return e},c.anchor=null,L(n,u),a&&a.m(n,null)},p:function(e,r){var o=r[0];if(t=e,c.ctx=t,4&o&&i!==(i=t[2])&&gt(i,c));else{var u=t.slice();c.block.p(u,o)}t[0]?a?a.p(t,o):((a=St(t)).c(),a.m(n,null)):a&&(a.d(1),a=null)},i:C,o:C,d:function(t){t&&G(n),c.block.d(),c.token=null,c=null,a&&a.d()}}}jt.prototype.$destroy=function(){xt(this,1),this.$destroy=C},jt.prototype.$on=function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},jt.prototype.$set=function(){};var Lt=1,qt=2;function Gt(t){return t.name.length}function Ht(t,n,e){var r=n.galleryId,o=[],i=Promise.resolve(!0),u={kind:0,name:"",description:""},c={kind:0,name:"",description:"",files:null};function a(t){return r&&t.files&&t.files[0]&&t.name.length}return t.$set=function(t){"galleryId"in t&&e(0,r=t.galleryId)},[r,o,i,u,c,function(){Gt(u)&&e(2,i=fetch("http://localhost:8080/galleries",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(u)}).then((function(t){return t.json()})).then((function(t){return e(0,r=t)})))},function(){r&&Gt(u)&&e(2,i=fetch("http://localhost:8080/galleries/"+r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(u)}).then((function(t){return t.json()})))},a,function(){if(a(c)){var t={status:0,loaded:0,total:0,response:""},n=new FormData,i=new XMLHttpRequest;n.append("itemInfo",JSON.stringify({name:c.name,description:c.description,kind:c.kind})),n.append("file",c.files[0]),i.open("POST","http://localhost:8080/galleries/"+r+"/items"),i.upload.addEventListener("progress",(function(n){var r=n.loaded,i=n.total;t.loaded=r,t.total=i,e(1,o)})),i.addEventListener("load",(function(n){200==i.status||201==i.status?t.status=Lt:t.status=qt,e(1,o)})),i.addEventListener("readystatechange",(function(n){4===i.readyState&&i.response.length&&(t.response=JSON.parse(i.response)),e(1,o)})),i.send(n),o.push({name:c.name,description:c.description,kind:c.kind,file:t}),e(4,c.name="",c),e(4,c.description="",c),e(4,c.kind=0,c),e(1,o)}},function(){u.name=this.value,e(3,u)},function(){u.description=this.value,e(3,u)},function(){c.name=this.value,e(4,c)},function(){c.description=this.value,e(4,c)},function(){c.files=this.files,e(4,c)}]}var Jt=function(t){function n(n){t.call(this),Et(this,n,Ht,Dt,D,{galleryId:0})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(jt);function zt(t,n,e){var r=t.slice();return r[6]=n[e],r}function Mt(t){var n,e,r,o=t[5].message+"";return{c:function(){n=J("p"),e=z("Error: "),r=z(o)},m:function(t,o){q(t,n,o),L(n,e),L(n,r)},p:function(t,n){1&n&&o!==(o=t[5].message+"")&&Q(r,o)},d:function(t){t&&G(n)}}}function Xt(t){var n,e;n=t[4],t[2]=n[0],t[3]=n[1];for(var r,o,i,u,c=t[2].name+"",a=t[2].description&&Kt(t),f=t[3],s=[],l=0;l<f.length;l+=1)s[l]=Vt(zt(t,f,l));return{c:function(){e=J("h3"),r=z(c),o=M(),a&&a.c(),i=M(),u=J("div");for(var t=0;t<s.length;t+=1)s[t].c();V(u,"class","gallery svelte-bdzgnj")},m:function(t,n){q(t,e,n),L(e,r),q(t,o,n),a&&a.m(t,n),q(t,i,n),q(t,u,n);for(var c=0;c<s.length;c+=1)s[c].m(u,null)},p:function(t,n){var e;if(1&n&&c!==(c=t[2].name+"")&&Q(r,c),t[2].description?a?a.p(t,n):((a=Kt(t)).c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),1&n){var o;for(f=t[3],o=0;o<f.length;o+=1){var l=zt(t,f,o);s[o]?s[o].p(l,n):(s[o]=Vt(l),s[o].c(),s[o].m(u,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=f.length}e=t[4],t[2]=e[0],t[3]=e[1]},d:function(t){t&&G(e),t&&G(o),a&&a.d(t),t&&G(i),t&&G(u),H(s,t)}}}function Kt(t){var n,e,r=t[2].description+"";return{c:function(){n=J("p"),e=z(r)},m:function(t,r){q(t,n,r),L(n,e)},p:function(t,n){1&n&&r!==(r=t[2].description+"")&&Q(e,r)},d:function(t){t&&G(n)}}}function Vt(t){var n,e,r,o,i,u,c,a=t[6][2].name+"";return{c:function(){n=J("figure"),e=J("figcaption"),r=z(a),o=M(),i=J("img"),c=M(),i.src!==(u="/assets/"+t[6][2].uuid)&&V(i,"src",u),V(i,"class","svelte-bdzgnj"),V(n,"class","svelte-bdzgnj")},m:function(t,u){q(t,n,u),L(n,e),L(e,r),L(n,o),L(n,i),L(n,c)},p:function(t,n){1&n&&a!==(a=t[6][2].name+"")&&Q(r,a),1&n&&i.src!==(u="/assets/"+t[6][2].uuid)&&V(i,"src",u)},d:function(t){t&&G(n)}}}function Qt(t){var n;return{c:function(){(n=J("p")).textContent="..."},m:function(t,e){q(t,n,e)},p:C,d:function(t){t&&G(n)}}}function Wt(t){var n,e,r={ctx:t,current:null,token:null,pending:Qt,then:Xt,catch:Mt,value:4,error:5};return gt(e=t[0],r),{c:function(){n=X(),r.block.c()},m:function(t,e){q(t,n,e),r.block.m(t,r.anchor=e),r.mount=function(){return n.parentNode},r.anchor=n},p:function(n,o){var i=o[0];if(t=n,r.ctx=t,1&i&&e!==(e=t[0])&&gt(e,r));else{var u=t.slice();u[4]=r.resolved,r.block.p(u,i)}},i:C,o:C,d:function(t){t&&G(n),r.block.d(t),r.token=null,r=null}}}function Yt(t,n,e){var r,o=n.galleryId;return t.$set=function(t){"galleryId"in t&&e(1,o=t.galleryId)},t.$$.update=function(){2&t.$$.dirty&&o&&e(0,r=Promise.all([fetch("http://localhost:8080/galleries/"+o).then((function(t){return t.json()})),fetch("http://localhost:8080/galleries/"+o+"/items").then((function(t){return t.json()}))]))},[r,o]}var Zt=function(t){function n(n){t.call(this),Et(this,n,Yt,Wt,D,{galleryId:1})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(jt);function tn(t,n,e){var r=t.slice();return r[11]=n[e],r}function nn(t){var n,e,r=t[1].title+"";return{c:function(){n=J("h2"),e=z(r)},m:function(t,r){q(t,n,r),L(n,e)},p:function(t,n){2&n&&r!==(r=t[1].title+"")&&Q(e,r)},d:function(t){t&&G(n)}}}function en(t){var n,e,r,o=t[1].description+"";return{c:function(){n=J("p"),e=z(o),r=J("p")},m:function(t,o){q(t,n,o),L(n,e),q(t,r,o)},p:function(t,n){2&n&&o!==(o=t[1].description+"")&&Q(e,o)},d:function(t){t&&G(n),t&&G(r)}}}function rn(t){var n,e,r,o=t[15].message+"";return{c:function(){n=J("p"),e=z("Error: "),r=z(o)},m:function(t,o){q(t,n,o),L(n,e),L(n,r)},p:function(t,n){8&n&&o!==(o=t[15].message+"")&&Q(r,o)},d:function(t){t&&G(n)}}}function on(t){var n;function e(t,n){return t[0]===t[1].id?cn:un}var r=e(t),o=r(t);return{c:function(){o.c(),n=X()},m:function(t,e){o.m(t,e),q(t,n,e)},p:function(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),(o=r(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){o.d(t),t&&G(n)}}}function un(t){var n,e;return{c:function(){(n=J("button")).textContent="Reply"},m:function(r,o,i){q(r,n,o),i&&e(),e=K(n,"click",t[4])},p:C,d:function(t){t&&G(n),e()}}}function cn(t){var n,e;return{c:function(){n=J("textarea")},m:function(r,o,i){q(r,n,o),W(n,t[2]),i&&R(e),e=[K(n,"input",t[8]),K(n,"keydown",t[5])]},p:function(t,e){4&e&&W(n,t[2])},d:function(t){t&&G(n),R(e)}}}function an(t){var n;return{c:function(){(n=J("p")).textContent="..."},m:function(t,e){q(t,n,e)},p:C,d:function(t){t&&G(n)}}}function fn(t){var n,e;function r(n){t[9].call(null,n)}var o={post:t[11]};void 0!==t[0]&&(o.replyId=t[0]);var i=new dn({props:o});return et.push((function(){return _t(i,"replyId",r)})),i.$on("reply",t[10]),{c:function(){wt(i.$$.fragment)},m:function(t,n){$t(i,t,n),e=!0},p:function(t,e){var r={};2&e&&(r.post=t[11]),!n&&1&e&&(n=!0,r.replyId=t[0],at((function(){return n=!1}))),i.$set(r)},i:function(t){e||(mt(i.$$.fragment,t),e=!0)},o:function(t){bt(i.$$.fragment,t),e=!1},d:function(t){xt(i,t)}}}function sn(t){var n,e,r,o,i,u,c,a,f,s=t[1].body+"",l=t[1].title&&nn(t),d=t[1].description&&en(t),p={ctx:t,current:null,token:null,pending:an,then:on,catch:rn,value:14,error:15};gt(c=t[3],p);for(var h=t[1].replies,y=[],v=0;v<h.length;v+=1)y[v]=fn(tn(t,h,v));var m=function(t){return bt(y[t],1,1,(function(){y[t]=null}))};return{c:function(){n=J("div"),l&&l.c(),e=M(),d&&d.c(),r=M(),o=J("p"),i=z(s),u=M(),p.block.c(),a=M();for(var t=0;t<y.length;t+=1)y[t].c();V(n,"class","post")},m:function(t,c){q(t,n,c),l&&l.m(n,null),L(n,e),d&&d.m(n,null),L(n,r),L(n,o),L(o,i),L(n,u),p.block.m(n,p.anchor=null),p.mount=function(){return n},p.anchor=a,L(n,a);for(var s=0;s<y.length;s+=1)y[s].m(n,null);f=!0},p:function(o,u){var a=u[0];if((t=o)[1].title?l?l.p(t,a):((l=nn(t)).c(),l.m(n,e)):l&&(l.d(1),l=null),t[1].description?d?d.p(t,a):((d=en(t)).c(),d.m(n,r)):d&&(d.d(1),d=null),(!f||2&a)&&s!==(s=t[1].body+"")&&Q(i,s),p.ctx=t,8&a&&c!==(c=t[3])&&gt(c,p));else{var v=t.slice();v[14]=p.resolved,p.block.p(v,a)}if(3&a){var b;for(h=t[1].replies,b=0;b<h.length;b+=1){var g=tn(t,h,b);y[b]?(y[b].p(g,a),mt(y[b],1)):(y[b]=fn(g),y[b].c(),mt(y[b],1),y[b].m(n,null))}for(yt(),b=h.length;b<y.length;b+=1)m(b);vt()}},i:function(t){if(!f){for(var n=0;n<h.length;n+=1)mt(y[n]);f=!0}},o:function(t){y=y.filter(Boolean);for(var n=0;n<y.length;n+=1)bt(y[n]);f=!1},d:function(t){t&&G(n),l&&l.d(),d&&d.d(),p.block.d(),p.token=null,p=null,H(y,t)}}}function ln(t,n,e){var r,o=n.post,i=tt(),u=n.replyId,c=Promise.resolve(!0);function a(){r&&r.length&&e(3,c=fetch("http://localhost:8080/api/v1/posts/"+o.id+"/replies",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({body:r})}).then((function(t){return t.json()})).then((function(t){console.log(t),e(2,r=""),i("reply",o),e(0,u=!1)})))}return t.$set=function(t){"post"in t&&e(1,o=t.post),"replyId"in t&&e(0,u=t.replyId)},[u,o,r,c,function(){e(0,u=o.id)},function(t){13!==t.keyCode||t.shiftKey||a()},i,a,function(){r=this.value,e(2,r)},function(t){e(0,u=t)},function(n){!function(t,n){var e=t.$$.callbacks[n.type];e&&e.slice().forEach((function(t){return t(n)}))}(t,n)}]}var dn=function(t){function n(n){t.call(this),Et(this,n,ln,sn,D,{post:1,replyId:0})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(jt);function pn(t,n,e){var r=t.slice();return r[9]=n[e],r}function hn(t){var n,e,r,o=t[8].message+"";return{c:function(){n=J("p"),e=z("Error: "),r=z(o)},m:function(t,o){q(t,n,o),L(n,e),L(n,r)},p:function(t,n){2&n&&o!==(o=t[8].message+"")&&Q(r,o)},i:C,o:C,d:function(t){t&&G(n)}}}function yn(t){var n,e,r,o,i=[mn,vn],u=[];function c(t,n){return t[0]?0:1}return n=c(t),e=u[n]=i[n](t),{c:function(){e.c(),r=X()},m:function(t,e){u[n].m(t,e),q(t,r,e),o=!0},p:function(t,o){var a=n;(n=c(t))===a?u[n].p(t,o):(yt(),bt(u[a],1,1,(function(){u[a]=null})),vt(),(e=u[n])||(e=u[n]=i[n](t)).c(),mt(e,1),e.m(r.parentNode,r))},i:function(t){o||(mt(e),o=!0)},o:function(t){bt(e),o=!1},d:function(t){u[n].d(t),t&&G(r)}}}function vn(t){for(var n,e=t[7],r=[],o=0;o<e.length;o+=1)r[o]=bn(pn(t,e,o));return{c:function(){n=J("ul");for(var t=0;t<r.length;t+=1)r[t].c()},m:function(t,e){q(t,n,e);for(var o=0;o<r.length;o+=1)r[o].m(n,null)},p:function(t,o){if(10&o){var i;for(e=t[7],i=0;i<e.length;i+=1){var u=pn(t,e,i);r[i]?r[i].p(u,o):(r[i]=bn(u),r[i].c(),r[i].m(n,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},i:C,o:C,d:function(t){t&&G(n),H(r,t)}}}function mn(t){var n,e;function r(n){t[5].call(null,n)}var o={post:t[7]};void 0!==t[2]&&(o.replyId=t[2]);var i=new dn({props:o});return et.push((function(){return _t(i,"replyId",r)})),i.$on("reply",t[4]),{c:function(){wt(i.$$.fragment)},m:function(t,n){$t(i,t,n),e=!0},p:function(t,e){var r={};2&e&&(r.post=t[7]),!n&&4&e&&(n=!0,r.replyId=t[2],at((function(){return n=!1}))),i.$set(r)},i:function(t){e||(mt(i.$$.fragment,t),e=!0)},o:function(t){bt(i.$$.fragment,t),e=!1},d:function(t){xt(i,t)}}}function bn(t){var n,e,r,o,i,u=t[9].title+"",c=t[9].created+"";function a(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return t[6].apply(t,[t[9]].concat(n))}return{c:function(){n=J("li"),e=z(u),r=M(),o=z(c)},m:function(t,u,c){q(t,n,u),L(n,e),L(n,r),L(n,o),c&&i(),i=K(n,"click",a)},p:function(n,r){t=n,2&r&&u!==(u=t[9].title+"")&&Q(e,u),2&r&&c!==(c=t[9].created+"")&&Q(o,c)},d:function(t){t&&G(n),i()}}}function gn(t){var n;return{c:function(){(n=J("p")).textContent="..."},m:function(t,e){q(t,n,e)},p:C,i:C,o:C,d:function(t){t&&G(n)}}}function _n(t){var n,e,r,o={ctx:t,current:null,token:null,pending:gn,then:yn,catch:hn,value:7,error:8,blocks:[,,,]};return gt(e=t[1],o),{c:function(){n=X(),o.block.c()},m:function(t,e){q(t,n,e),o.block.m(t,o.anchor=e),o.mount=function(){return n.parentNode},o.anchor=n,r=!0},p:function(n,r){var i=r[0];if(t=n,o.ctx=t,2&i&&e!==(e=t[1])&&gt(e,o));else{var u=t.slice();u[7]=o.resolved,o.block.p(u,i)}},i:function(t){r||(mt(o.block),r=!0)},o:function(t){for(var n=0;n<3;n+=1){bt(o.blocks[n])}r=!1},d:function(t){t&&G(n),o.block.d(t),o.token=null,o=null}}}var wn="http://localhost:8080/api/v1";function $n(t,n,e){var r,o=n.postId,i=new Promise((function(){}));function u(t){e(0,o=t)}return t.$set=function(t){"postId"in t&&e(0,o=t.postId)},t.$$.update=function(){1&t.$$.dirty&&e(1,i=o?fetch(wn+"/posts/"+o+"/thread").then((function(t){return t.json()})):fetch(wn+"/posts").then((function(t){return t.json()})))},[o,i,r,u,function(){e(1,i=fetch(wn+"/posts/"+o+"/thread").then((function(t){return t.json()})))},function(t){e(2,r=t)},function(t){return u(t.id)}]}var xn=function(t){function n(n){t.call(this),Et(this,n,$n,_n,D,{postId:0})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(jt);return{gallery:function(t,n){return new Zt({target:t,props:n})},galleryCreate:function(t,n){return new Jt({target:t,props:n})},board:function(t,n){return new xn({target:t,props:n})}}}();
